stages:
  - build
  - test
  - deploy

# Build job: runs only if .sql files change
build_job:
  stage: build
  script:
    - echo "Building project..."
  rules:
    - changes:
        - "*.sql"
    - when: never

# Test job: runs only if .sql files change
test_job:
  stage: test
  script:
    - echo "Running tests..."
  rules:
    - changes:
        - "*.sql"
    - when: never

# Deploy job: manual trigger only
deploy_job:
  stage: deploy
  script:
    - echo "Deploying project..."
  when: manual
